@layout.app({ title: "Edit Donasi" })
  <!-- Card Section -->
  <div class="max-w-2xl px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
    <!-- Card -->
    <div
      class="bg-white rounded-xl shadow-xs p-4 sm:p-7 dark:bg-neutral-900 border border-gray-200 xl:shadow-2xs"
    >
      <form action="{{ route('donasi.update', { id: donasi?.id }) }}" method="POST">
        {{ csrfField() }}
        <div class="mb-4">
          <h2 class="text-lg font-semibold text-gray-800 dark:text-neutral-200">
            Edit Donasi
          </h2>
        </div>
        <div class="mb-4">
          <label for="donaturId" class="block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1">Nama Donatur</label>
          <select
            name="donaturId"
            id="donaturId"
            required
            class="py-2 px-3 block w-full border-gray-200 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200"
          >
            <option value="">
              Pilih Donatur
            </option>
            @each(donatur in donaturs)
              <option value="{{ donatur.id }}" {{ donasi?.donaturId === donatur.id ? 'selected' : '' }}>
                {{ donatur.nama }}
              </option>
            @end
          </select>
        </div>
        <div class="mb-4">
          <label for="kampanyeId" class="block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1">Nama Kampanye</label>
          <select
            name="kampanyeId"
            id="kampanyeId"
            required
            class="py-2 px-3 block w-full border-gray-200 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200"
          >
            <option value="">
              Pilih Kampanye
            </option>
            @each(kampanye in kampanyes)
              <option value="{{ kampanye.id }}" {{ donasi.transaksiDonasi?.kampanyeId === kampanye.id ? 'selected' : '' }}>
                {{ kampanye.namaKampanye }}
              </option>
            @end
          </select>
        </div>
<div class="mb-4">
  <label for="tanggal" class="block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1">Tanggal Donasi</label>
  <input
    name="tanggal"
    id="tanggal"
    type="date"
    required
    class="py-2 px-3 block w-full border-gray-200 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200"
    value="{{ donasi?.tanggal?.toISODate() ?? flashMessages.get('old.tanggal') ?? '' }}" {{-- Perbaikan di sini --}}
  />
  @if(flashMessages.has('errors.tanggal'))
    <p class="text-xs text-red-600 mt-2">
      {{ flashMessages.get('errors.tanggal') }}
    </p>
  @endif
</div>

        <div class="mb-4">
          <label for="jumlah" class="block text-sm font-medium text-gray-700 dark:text-neutral-300 mb-1">Jumlah Donasi</label>
          <input
            name="jumlah"
            id="jumlah"
            type="number"
            required
            class="py-2 px-3 block w-full border-gray-200 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200"
            placeholder="Masukkan jumlah donasi"
            value="{{ donasi?.jumlah ?? '' }}"
          />
        </div>
        <div class="flex gap-2">
          <a
            href="{{ route('donasi.index') }}"
            class="w-full py-2 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-300 bg-white text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100"
          >
            Batal
                </a>
          <button
            type="submit"
            class="w-full py-2 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700"
          >
            Simpan Donasi 
          </button>
        </div>
      </form>
    </div>
    <!-- End Card -->
  </div>
  <!-- End Card Section -->
@end
